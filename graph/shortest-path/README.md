maybe divide subdirectories by Floydâ€“Warshall algorithm and djikstra etc.